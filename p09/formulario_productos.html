<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Productos</title>
    <script>
        function validarFormulario() {
            let nombre = document.getElementById("nombre").value.trim();
            let modelo = document.getElementById("modelo").value.trim();
            let marca = document.getElementById("marca").value;
            let precio = parseFloat(document.getElementById("precio").value);
            let detalles = document.getElementById("detalles").value.trim();
            let unidades = parseInt(document.getElementById("unidades").value);

            // Validar que el nombre sea requerido y tenga 100 caracteres o menos
            if (!nombre || nombre.length > 100) {
                alert("El nombre es requerido y debe tener 100 caracteres o menos.");
                return false;
            }

            // Validar que la marca sea seleccionada de una lista
            if (marca === "") {
                alert("Debe seleccionar una marca.");
                return false;
            }

            // Validar que el modelo sea requerido, alfanumérico y tenga 25 caracteres o menos
            if (modelo === "" || modelo.length > 25) {
                alert("El modelo es requerido y debe tener 25 caracteres o menos.");
                return false;
            }

            // Validar que el precio sea requerido y mayor a 99.99
            if (isNaN(precio) || precio <= 99.99) {
                alert("El precio es requerido y debe ser mayor a 99.99.");
                return false;
            }

            // Validar que los detalles, si se usan, tengan 250 caracteres o menos
            if (detalles.length > 250) {
                alert("Los detalles deben tener menos de 250 caracteres.");
                return false;
            }

            // Validar que las unidades sean requeridas y mayor o igual a 0
            if (isNaN(unidades) || unidades < 0) {
                alert("Las unidades son requeridas y deben ser un número mayor o igual a 0.");
                return false;
            }

            // Si todas las validaciones pasan
            return true;
        }
    </script>
</head>
<body>
    <h2>Registro de Modificar Producto</h2>
    <form id="formularioProducto" action="http://localhost/tecweb/practicas/p09/update_producto.php?id=<?php echo htmlentities($product_id); ?>" method="post" onsubmit="return validarFormulario()">
        <label for="nombre">Nombre del Producto:</label><br>
        <input type="text" id="nombre" name="nombre" maxlength="100" required><br><br>

        <label for="modelo">Modelo:</label><br>
        <input type="text" id="modelo" name="modelo" maxlength="25" required><br><br>

        <label for="marca">Marca:</label><br>
        <input type="text" id="marca" name="marca" maxlength="50"><br><br>

        <label for="precio">Precio:</label><br>
        <input type="number" id="precio" name="precio" step="0.01" required><br><br>

        <label for="detalles">Detalles:</label><br>
        <input type="text" id="detalles" name="detalles" maxlength="250"><br><br>

        <label for="unidades">Cantidad:</label><br>
        <input type="number" id="unidades" name="unidades" min="0" required><br><br>

        <label for="imagen">Ruta de la Imagen:</label><br>
        <input type="text" id="imagen" name="imagen"><br><br>

        <input type="submit" value="Modificar Producto">
    </form>
</body>
</html>
